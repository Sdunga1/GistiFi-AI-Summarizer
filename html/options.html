<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>GistiFi AI Summary Settings</title>
    <link rel="stylesheet" href="../styles/options.css" />
    <link rel="stylesheet" href="../styles/footer.css" />
    <link rel="stylesheet" href="../styles/profile.css" />
  </head>
  <body>
    <div class="content-wrapper">
      <div class="settings-container">
        <h1>
          <img
            src="../assets/icon.png"
            alt="GistiFi Logo"
            style="height: 100px; vertical-align: middle; margin-right: 10px"
          />
          AI Summary Settings
        </h1>

        <!-- User Profile Card -->
        <div class="user-profile-card">
          <div class="user-profile-info">
            <img id="header-profile-avatar" src="../assets/icon.png" alt="Profile" class="header-profile-avatar" />
            <div class="user-profile-details">
              <span id="header-profile-name" class="header-profile-name">User</span>
              <span id="header-profile-title" class="header-profile-title">Set your profile</span>
            </div>
          </div>
          <button id="edit-profile-btn" class="edit-profile-btn">Edit</button>
        </div>

        <div class="form-group">
          <label for="api-key">Gemini API Key:</label>
          <div class="input-with-toggle">
            <input
              type="password"
              id="api-key"
              placeholder="Enter your Gemini API key"
            />
            <button type="button" class="toggle-password" id="toggle-gemini">
              <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <p>
            You can get an API key from
            <a href="https://makersuite.google.com/app/apikey" target="_blank">
              Google AI Studio
            </a>
          </p>
        </div>

        <div class="form-group">
          <label for="youtube-api-key">YouTube API Key (Optional):</label>
          <div class="input-with-toggle">
            <input
              type="password"
              id="youtube-api-key"
              placeholder="Enter your YouTube API key (optional)"
            />
            <button type="button" class="toggle-password" id="toggle-youtube">
              <svg class="eye-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/>
                <circle cx="12" cy="12" r="3"/>
              </svg>
            </button>
          </div>
          <p>
            Get a YouTube API key from
            <a href="https://console.cloud.google.com/apis/library/youtube.googleapis.com" target="_blank">
              Google Cloud Console
            </a>
            for video suggestions. This is optional and won't affect other features.
          </p>
        </div>

        <div class="form-group">
          <label for="model-select">Model:</label>
          <select id="model-select">
            <option value="models/gemini-2.0-flash">Gemini 2.0 Flash (default)</option>
            <option value="models/gemini-2.0-flash-lite">Gemini 2.0 Flash-Lite (cheaper)</option>
          </select>
          <p>
            See pricing for each model: <a href="https://ai.google.dev/gemini-api/docs/pricing#gemini-2.0-flash" target="_blank">Gemini pricing</a>
          </p>
        </div>

        <div class="form-group">
          <label>
            <input type="checkbox" id="free-tier-hint" />
            I'm on the free tier (show conservative warnings)
          </label>
        </div>

        <button id="save-button">Save Settings</button>
        <p id="success-message" class="success-message">
          Settings saved successfully!
        </p>
        <p id="error-message" class="error-message">API key cannot be empty!</p>
      </div>
    </div>

    <footer class="my-footer">
      <img src="../assets/icon.png" alt="Logo" />
      &copy; 2025
      <a
        href="https://www.linkedin.com/in/sarath-kumar-dunga-0684a4360/"
        target="_blank"
        class="linkedin-link"
      >
        Sarath Kumar Dunga [<span>LinkedIn</span>]
      </a>
    </a>
    <span class="footer-separator">|</span>
    <a href="faq.html" target="_blank" class="linkedin-link" style="color : #3399ff"> [FAQs] </a>
    <span class="footer-separator">|</span>
    <a href="https://forms.gle/gSr3BY6ofnrQhpFr9" target="_blank" class="linkedin-link" style="color : #3399ff"> [Feedback] </a>
    </footer>

    <!-- Profile Settings Modal -->
    <div id="profile-modal" class="modal hidden">
      <div class="modal-content profile-modal">
        <div class="modal-header">
          <h3>Profile Settings</h3>
          <button class="close-modal" data-modal="profile-modal">
            &times;
          </button>
        </div>
        <div class="modal-body">
          <div class="profile-card">
            <div class="profile-avatar-section">
              <div class="profile-avatar-container">
                <img
                  id="profile-avatar-preview"
                  src="../assets/icon.png"
                  alt="Profile"
                  class="profile-avatar"
                />
                <div class="avatar-overlay">
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                  >
                    <path
                      d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"
                    />
                    <circle cx="12" cy="13" r="4" />
                  </svg>
                </div>
              </div>
              <input
                type="file"
                id="profile-image-input"
                accept="image/*"
                style="display: none"
              />
              <button id="change-avatar-btn" class="btn-secondary">
                Change Photo
              </button>
            </div>

            <div class="profile-form">
              <div class="form-group">
                <label for="profile-name">Name</label>
                <input
                  type="text"
                  id="profile-name"
                  placeholder="Enter your name"
                  maxlength="30"
                />
              </div>

              <div class="form-group">
                <label for="profile-title">Title</label>
                <input
                  type="text"
                  id="profile-title"
                  placeholder="e.g., Software Developer"
                  maxlength="50"
                />
              </div>

              <div class="form-group">
                <label for="profile-bio">Bio</label>
                <textarea
                  id="profile-bio"
                  placeholder="Tell us about yourself..."
                  maxlength="150"
                  rows="3"
                ></textarea>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button id="save-profile" class="btn-primary">Save Profile</button>
          <button class="close-modal" data-modal="profile-modal">Cancel</button>
        </div>
      </div>
    </div>

    <script src="../scripts/profileManager.js"></script>
    <script src="../scripts/options.js"></script>
  </body>
</html>
